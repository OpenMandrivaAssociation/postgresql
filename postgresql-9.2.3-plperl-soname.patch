--- postgresql-9.2.3/src/pl/plperl/GNUmakefile.0001~	2013-02-04 22:28:13.000000000 +0100
+++ postgresql-9.2.3/src/pl/plperl/GNUmakefile	2013-02-11 18:54:38.453108376 +0100
@@ -70,6 +70,11 @@ perlchunks.h: $(PERLCHUNKS)
 	@if [ x"$(perl_privlibexp)" = x"" ]; then echo "configure switch --with-perl was not specified."; exit 1; fi
 	$(PERL) $(srcdir)/text2macro.pl --strip='^(\#.*|\s*)$$' $^ > $@
 
+ifdef soname
+LINK.shared=$(COMPILER) -shared -Wl,-rpath,$(rpathdir),-soname,$(soname)
+else
+LINK.shared=$(COMPILER) -shared -Wl,-rpath,$(rpathdir)
+endif
 all: all-lib
 
 SPI.c: SPI.xs plperl_helpers.h
@@ -113,6 +118,11 @@ clean distclean maintainer-clean: clean-
 
 else # can't build
 
+ifdef soname
+LINK.shared=$(COMPILER) -shared -Wl,-rpath,$(rpathdir),-soname,$(soname)
+else
+LINK.shared=$(COMPILER) -shared -Wl,-rpath,$(rpathdir)
+endif
 all:
 	@echo ""; \
 	 echo "*** Cannot build PL/Perl because libperl is not a shared library."; \
